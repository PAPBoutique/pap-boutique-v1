

<p-dialog header="Add a new user" [(visible)]="visible" [modal]="true" [style]="{ width: '50vw' }"
  [draggable]="false" [resizable]="false" (onHide)="onHide($event)">
  <div *ngIf="loading">
    <app-loader></app-loader>
  </div>

  <form [formGroup]="userForm" (ngSubmit)="createUser()" novalidate *ngFor="let user of users">
    <div class="field">
      <label for="username" class="block">Username</label>
      <input type="text" pInputText placeholder="Username" formControlName="username" [(ngModel)]="user.username" />
      <small class="p-error block" *ngIf="userForm.get('username')?.invalid && userForm.get('username')?.dirty">
        Username is required</small>
    </div>

    <div class="field">
      <label for="email" class="block">Email</label>
      <input type="email" pInputText placeholder="Email" formControlName="email" [(ngModel)]="user.email" />
      <small class="p-error block" *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.dirty">
        Email is required</small>
    </div>

    <div class="field">
      <label for="address" class="block">Address</label>
      <input type="text" pInputText placeholder="Address" formControlName="address" [(ngModel)]="user.address" />
      <small class="p-error block" *ngIf="userForm.get('address')?.invalid && userForm.get('address')?.dirty">
        Address is required</small>
    </div>

    <div class="field">
      <label for="phoneNum" class="block">Phone Number</label>
      <input type="text" pInputText placeholder="Phone Number" formControlName="phoneNum" [(ngModel)]="user.phoneNum" />
      <small class="p-error block" *ngIf="userForm.get('phoneNum')?.invalid && userForm.get('phoneNum')?.dirty">
        Phone Number is required</small>
    </div>

    <div class="field">
      <label for="role" class="block">Role</label>
      <input type="text" pInputText placeholder="Role" formControlName="role" [(ngModel)]="user.role" />
      <small class="p-error block" *ngIf="userForm.get('role')?.invalid && userForm.get('role')?.dirty">
        Role is required</small>
    </div>

    <div class="field">
      <label for="password" class="block">Password</label>
      <input type="password" pInputText placeholder="Password" formControlName="password" [(ngModel)]="user.password" />
      <small class="p-error block" *ngIf="userForm.get('password')?.invalid && userForm.get('password')?.dirty">
        Password is required</small>
    </div>

    <br>

    <div style="text-align: right;">
      <p-button type="submit" label="Submit" icon="pi pi-check" iconPos="left" [disabled]="userForm.invalid"></p-button>
      <button type="reset" pButton pRipple label="Clear" icon="pi pi-times"
        class="p-button-raised p-button-danger" style="margin-left: 12px;"></button>
    </div>
  </form>
</p-dialog>
